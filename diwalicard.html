<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Diwali ‚Äî Coder Card</title>
<style>
  /* Container sized to Instagram square by default (1080x1080) */
  :root { --size: 1080px; }
  body {
    margin:0;
    height:100vh;
    display:grid;
    place-items:center;
    background: linear-gradient(180deg,#05021a 0%, #0b0630 60%, #0f0923 100%);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    color:#fff;
  }

  .card {
    width: min(96vmin, var(--size));
    aspect-ratio: 1/1;
    position: relative;
    border-radius: 28px;
    overflow: hidden;
    box-shadow: 0 30px 80px rgba(2,6,23,0.7), inset 0 0 120px rgba(255,140,0,0.02);
    background:
      radial-gradient(ellipse at 10% 10%, rgba(255,200,120,0.05), transparent 15%),
      linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,120,20,0.01));
  }

  canvas#fireworks {
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    display:block;
  }

  .center {
    position:absolute;
    left:50%; top:50%;
    transform: translate(-50%,-50%);
    text-align:center;
    width: 70%;
    pointer-events: none;
  }

  /* Diya wrapper */
  .diya {
    width: 48%;
    margin: 0 auto 12px;
    filter: drop-shadow(0 10px 25px rgba(255,160,50,0.3));
  }

  /* Flame flicker using CSS variables changed by JS for subtle randomness */
  .flame {
    transform-origin: 50% 90%;
    animation: flicker 1.4s infinite ease-in-out;
    will-change: transform;
  }
  @keyframes flicker {
    0% { transform: scaleY(1) translateY(0); opacity:1; }
    30% { transform: scaleY(1.08) translateY(-1px); opacity:0.98;}
    55% { transform: scaleY(0.96) translateY(0.5px); opacity:0.92;}
    100% { transform: scaleY(1) translateY(0); opacity:1;}
  }

  .spark {
    fill: #ffc978;
    animation: rise 3s infinite ease-out;
    opacity: 0;
  }
  .s2 { animation-delay: 0.5s; animation-duration: 3.5s; }
  .s3 { animation-delay: 1.2s; animation-duration: 2.8s; }
  @keyframes rise {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-30px); opacity: 0; }
  }

  h1 {
    margin: 8px 0 0;
    font-weight:700;
    letter-spacing:0.2px;
    font-size: clamp(20px, 3.4vmin, 40px);
    text-shadow: 0 6px 18px rgba(255,120,20,0.08);
    animation: glow 2.5s infinite alternate;
  }
  p.sub {
    margin:6px 0 0;
    opacity:0.85;
    font-size: clamp(11px, 1.6vmin, 14px);
  }

  @keyframes glow {
    from { text-shadow: 0 2px 12px rgba(255,160,80,0.1); }
    to { text-shadow: 0 2px 24px rgba(255,180,80,0.4); }
  }

  /* Code-like caption box (for 'coder' flavor) */
  .code-card {
    margin-top: 12px;
    background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(255,255,255,0.02));
    padding: 10px 14px;
    border-radius: 10px;
    display:inline-block;
    font-family: "Courier New", Consolas, monospace;
    font-size: 12px;
    color:#ffd9b3;
    box-shadow: 0 6px 24px rgba(4,6,10,0.5);
    opacity:0.98;
  }

  .muted { color: #ffd9b3; opacity:0.65; font-size:11px; margin-top:8px; }

  /* small footer */
  .footer {
    position:absolute;
    bottom:12px; left:12px;
    font-size:11px;
    color: rgba(255,255,255,0.7);
    opacity:0.8;
  }

  /* Responsive tweaks */
  @media (max-width:480px){
    .diya { width: 60%; }
  }
</style>
</head>
<body>
  <div class="card" id="card">
    <canvas id="fireworks"></canvas>

    <div class="center" aria-hidden="false">
      <!-- Inline SVG Diya -->
      <div class="diya-wrap" aria-hidden="false">
        <div class="halo" aria-hidden="true"></div>
        <svg class="diya" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Diya">
          <defs>
            <radialGradient id="g1" cx="50%" cy="30%">
              <stop offset="0%" stop-color="#ffd76b" stop-opacity="1"/>
              <stop offset="60%" stop-color="#ff7a00" stop-opacity="0.95"/>
              <stop offset="100%" stop-color="#ff3d00" stop-opacity="0.6"/>
            </radialGradient>
            <linearGradient id="gTerracotta" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="#d48c5d" />
              <stop offset="40%" stop-color="#b56a42" />
              <stop offset="100%" stop-color="#985230" />
            </linearGradient>
            <linearGradient id="gTerracottaDark" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="#a15934" />
              <stop offset="100%" stop-color="#7a4024" />
            </linearGradient>
            <filter id="glow" x="-30%" y="-30%" width="160%" height="160%">
              <feGaussianBlur stdDeviation="8" result="b"/>
              <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>
          <!-- Diya Bowl -->
          <g transform="translate(0, 20)">
            <!-- Base -->
            <path d="M160 235 C180 230, 220 230, 240 235 L200 245 Z" fill="url(#gTerracottaDark)" />
            <!-- Main Body -->
            <path d="M45 200 C75 110, 325 110, 355 200 L200 240 Z" fill="url(#gTerracotta)" />
            <!-- Inner Shadow -->
            <path d="M70 190 C100 130, 300 130, 330 190 L200 225 Z" fill="rgba(0,0,0,0.2)" />
            <!-- Oil -->
            <path d="M75 188 C105 132, 295 132, 325 188 L200 220 Z" fill="url(#g1)" opacity="0.95" />
            <!-- Rim -->
            <path d="M45 125 C75 110, 325 110, 355 125 C345 100, 55 100, 45 125 Z" fill="url(#gTerracottaDark)" />
            <path d="M50 120 C75 108, 325 108, 350 120" stroke="#ffb481" stroke-width="1.5" fill="none" opacity="0.7" />
          </g>

          <!-- wick and small inner glow -->
          <g transform="translate(200,120)">
            <path d="M0 0 C-4 -12, 4 -30, 0 -50" stroke="#411200" stroke-width="6" stroke-linecap="round" fill="none" />
            <ellipse cx="0" cy="-54" rx="6" ry="2" fill="#2a1200" />
          </g>

          <!-- flame group (animated) -->
          <g class="flame" id="flame" transform="translate(200,70)">
            <!-- outer warm glow -->
            <path d="M0 0 C12 -16, 30 -38, 0 -78 C-30 -38, -12 -16, 0 0 Z"
                  fill="rgba(255,150,50,0.18)" style="filter:url(#glow)" />
            <!-- main flame -->
            <path d="M0 0 C8 -12, 22 -28, 0 -60 C-22 -28, -8 -12, 0 0 Z"
                  fill="url(#g1)" style="filter:url(#glow)" opacity="0.95"/>
            <!-- inner core -->
            <path d="M0 -10 C4 -18, 10 -28, 0 -46 C-10 -28, -4 -18, 0 -10 Z"
                  fill="#fff6a8" opacity="0.95"/>
          </g>

          <!-- tiny rising sparks (decorative) -->
          <g transform="translate(200,40)" aria-hidden="true">
            <circle class="spark s1" cx="6" cy="-10" r="3" />
            <circle class="spark s2" cx="-8" cy="-12" r="2.6" />
            <circle class="spark s3" cx="2" cy="-16" r="2" />
          </g>
        </svg>
      </div>

      <h1>Happy Diwali ‚Äî ùôéùôùùôûùô£ùôö ùôñùô® ùô¨ùôö ùôòùô§ùôôùôö</h1>
      <p class="sub">May your code compile and your life sparkle ‚ú®</p>

      <div class="code-card" title="Coder greeting">
        <code id="code-message">// lightUp(); // do not forget to commit joy()</code>
      </div>

      <div class="muted">Press & hold anywhere to trigger fireworks</div>
    </div>

    <div class="footer">Made with ‚ô•Ô∏é ‚Äî Diwali Card ‚Ä¢ coder edition</div>
  </div>

<script>
/* Fireworks canvas: simple particle burst system.
   - Click/hold to spawn bursts
   - Auto-spawn gentle bursts every few seconds
*/
(() => {
  const canvas = document.getElementById('fireworks');
  const ctx = canvas.getContext('2d', { alpha: true });
  let DPR = Math.max(1, window.devicePixelRatio || 1);

  function resize() {
    const r = canvas.getBoundingClientRect();
    canvas.width = Math.floor(r.width * DPR);
    canvas.height = Math.floor(r.height * DPR);
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  new ResizeObserver(resize).observe(canvas);
  resize();

  // Particle class
  class P {
    constructor(x,y,color) {
      this.x=x; this.y=y;
      const a = Math.random()*Math.PI*2;
      const s = 1 + Math.random()*4;
      this.vx = Math.cos(a)*s;
      this.vy = Math.sin(a)*s - (Math.random()*2);
      this.life = 60 + Math.random()*50;
      this.age = 0;
      this.size = 1 + Math.random()*3;
      this.color = color;
      this.opacity = 1;
    }
    step(){
      this.age++;
      this.vy += 0.02; // gravity
      this.vx *= 0.995;
      this.vy *= 0.995;
      this.x += this.vx;
      this.y += this.vy;
      this.opacity = 1 - (this.age/this.life);
      return this.age < this.life;
    }
    draw(ctx){
      ctx.beginPath();
      ctx.globalAlpha = Math.max(0, this.opacity);
      ctx.fillStyle = this.color;
      ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
      ctx.fill();
      // small trail / glow
      ctx.globalAlpha = Math.max(0, this.opacity*0.12);
      ctx.fillStyle = this.color;
      ctx.fillRect(this.x-1, this.y-1, 2, 2);
      ctx.globalAlpha = 1;
    }
  }

  // Messages for the code card
  const messages = [
    "// Wishing you a sparkling Diwali!",
    "// May your bugs be few & deploys be many.",
    "// commit('happiness'); push('prosperity');",
    "// printf(\"Happy Diwali!\\n\");",
    "// console.log('Let there be light!');",
    "// git push --force origin festival-of-lights",
    "// while(true) { spreadJoy(); }",
    "// #include <happiness.h>",
    "// import { Brightness } from 'festival';",
    "// SELECT * FROM life WHERE feeling = 'joy';",
    "// 10 GOTO CELEBRATE",
    "// return new Festival(Diwali);"
  ];
  let messageIndex = 0;
  const codeMessageEl = document.getElementById('code-message');

  const parts = [];
  function burst(x,y, hueBase=Math.random()*360, count=60) {
    for(let i=0;i<count;i++){
      const hue = hueBase + (Math.random()*60-30);
      const col = `hsl(${Math.round(hue)} ${Math.random()*50+60}% ${Math.random()*40+50}%)`;
      parts.push(new P(x, y, col));
    }
  }

  // spawn random bursts
  let ticker = 0;
  function step() {
    ticker++;
    // gentle background fades
    ctx.fillStyle = 'rgba(6,6,12,0.25)';
    ctx.fillRect(0,0,canvas.width/DPR, canvas.height/DPR);

    // auto spawn occasional bursts
    if (ticker % (90 + Math.floor(Math.random()*120)) === 0) {
      const cx = (0.2 + Math.random()*0.6) * (canvas.width/DPR);
      const cy = (0.15 + Math.random()*0.45) * (canvas.height/DPR);
      burst(cx, cy, Math.random()*360, 70 + Math.floor(Math.random()*60));
    }

    // draw particles
    for(let i = parts.length - 1; i >= 0; i--){
      const p = parts[i];
      if(!p.step()) parts.splice(i,1);
      else p.draw(ctx);
    }
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);

  // user interaction: click/hold to spawn bursts at pointer
  let isDown=false;
  let pointer = {x:0,y:0};
  function spawnAtPointer() {
    burst(pointer.x, pointer.y, Math.random()*360, 90);
    messageIndex = (messageIndex + 1) % messages.length;
    codeMessageEl.textContent = messages[messageIndex];
  }
  ['pointerdown','mousedown','touchstart'].forEach(ev=>{
    window.addEventListener(ev, e=>{
      isDown=true;
      if(e.touches) pointer.x = e.touches[0].clientX - canvas.getBoundingClientRect().left;
      else pointer.x = e.clientX - canvas.getBoundingClientRect().left;
      if(e.touches) pointer.y = e.touches[0].clientY - canvas.getBoundingClientRect().top;
      else pointer.y = e.clientY - canvas.getBoundingClientRect().top;
      spawnAtPointer();
    }, {passive:true});
  });

  ['pointerup','mouseup','touchend','pointercancel','touchcancel'].forEach(ev=>{
    window.addEventListener(ev, ()=> isDown=false, {passive:true});
  });

  window.addEventListener('pointermove', e=>{
    if(!isDown) return;
    pointer.x = e.clientX - canvas.getBoundingClientRect().left;
    pointer.y = e.clientY - canvas.getBoundingClientRect().top;
    if(Math.random() < 0.35) spawnAtPointer();
  }, {passive:true});

  // subtle flame randomization for 'coder' flicker feel
  const flame = document.getElementById('flame');
  setInterval(()=>{
    const sx = 0.96 + Math.random()*0.08;
    const ry = 0.96 + Math.random()*0.12;
    flame.style.transform = `translate(200px,70px) scale(${sx},${ry}) rotate(${(Math.random()*2-1)}deg)`;
  }, 280);

  // Helpful: on double-click, create a big celebratory explosion
  window.addEventListener('dblclick', e=>{
    const r = canvas.getBoundingClientRect();
    const x = e.clientX - r.left;
    const y = e.clientY - r.top;
    for(let i=0;i<5;i++){
      setTimeout(()=> burst(x + (Math.random()*80-40), y + (Math.random()*80-40), Math.random()*360, 120), i*120);
    }
  });

  // prevent accidental selects
  window.addEventListener('selectstart', e=>e.preventDefault());
})();
</script>
</body>
</html>
